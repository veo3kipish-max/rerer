# üéâ –ü–†–û–ë–õ–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Constraint –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **–ë—ã–ª–æ:** –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–µ –º–æ–≥–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –ë–î
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** Constraint –æ–±–Ω–æ–≤–ª—ë–Ω ‚úÖ
- **–°—Ç–∞—Ç—É—Å:** –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –¢–∏–ø –ø–ª–∞—Ç–µ–∂–∞ –≤ payload
- **–ë—ã–ª–æ:** payload.type –≤—Å–µ–≥–¥–∞ –±—ã–ª `'credits'`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –¢–µ–ø–µ—Ä—å `'subscription'` –¥–ª—è –ø–æ–¥–ø–∏—Å–æ–∫ ‚úÖ
- **–°—Ç–∞—Ç—É—Å:** Edge Function –∑–∞–¥–µ–ø–ª–æ–µ–Ω–∞ (v21)

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ –ø–æ–¥–ø–∏—Å–∫–∏:
1. ‚úÖ –ö—Ä–µ–¥–∏—Ç—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è
2. ‚úÖ `subscription_tier` –º–µ–Ω—è–µ—Ç—Å—è (free ‚Üí light/pro/ultra)
3. ‚úÖ `subscription_expires_at` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ +30 –¥–Ω–µ–π
4. ‚úÖ –ù–µ—Ç –æ—à–∏–±–∫–∏ `ERR_HTTP_RESPONSE_CODE_FAILURE`

## üöÄ –î–µ–ø–ª–æ–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ |
| Edge Function (create-telegram-invoice) | ‚úÖ v21 –∑–∞–¥–µ–ø–ª–æ–µ–Ω–∞ |
| Edge Function (telegram-webhook) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ |
| Git | ‚úÖ –ö–æ–º–º–∏—Ç—ã –∑–∞–ø—É—à–µ–Ω—ã |

## üì± –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–π—á–∞—Å!

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://kipish.fun
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å
4. **–í–∞—à —Å—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "Light"!** ‚úÖ

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞:
- –ö—É–ø–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É "Subscription"
- –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

**–í—Å—ë –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!** üéâ
