# üö® –°–†–û–ß–ù–û: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –æ–ø–ª–∞—Ç—ã (401 Unauthorized)

–õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫—É **401 Unauthorized** –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂ Telegram.
–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∏–ª–∞—Å—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (JWT)**, –∞ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è (–æ–ø–ª–∞—Ç–∞ –±–µ–∑ –≤—Ö–æ–¥–∞) –µ—ë –Ω—É–∂–Ω–æ **–≤—ã–∫–ª—é—á–∏—Ç—å**.

–Ø –Ω–µ –º–æ–≥—É –æ—Ç–∫–ª—é—á–∏—Ç—å –µ—ë –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–∞, –ø–æ—ç—Ç–æ–º—É **–≤—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –≤—Ä—É—á–Ω—É—é**. –≠—Ç–æ –∑–∞–π–º–µ—Ç 1 –º–∏–Ω—É—Ç—É.

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

1.  –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard**: [https://supabase.com/dashboard](https://supabase.com/dashboard)
2.  –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç.
3.  –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **Edge Functions** (–∑–Ω–∞—á–æ–∫ –º–æ–ª–Ω–∏–∏ `‚ö°`).
4.  –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é **create-telegram-invoice**.
5.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Settings** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏).
6.  –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **"Enforce JWT Verification"**.
7.  üî¥ **–í–´–ö–õ–Æ–ß–ò–¢–ï –ï–ì–û** (–æ–Ω –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å —Å–µ—Ä—ã–º).
8.  –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Save** –≤–Ω–∏–∑—É.

---

### –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ç–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–¥–æ–±–Ω—ã—Ö –æ—à–∏–±–æ–∫ –≤ –±—É–¥—É—â–µ–º, –æ—Ç–∫–ª—é—á–∏—Ç–µ JWT –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∞–∫–∂–µ –¥–ª—è:
*   `create-wayforpay-invoice`
*   `wayforpay-webhook`
*   `telegram-webhook`

–ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –æ—Ç–∫–ª—é—á–∏—Ç–µ —ç—Ç—É –Ω–∞—Å—Ç—Ä–æ–π–∫—É, –æ—à–∏–±–∫–∞ "Payment Error" –∏—Å—á–µ–∑–Ω–µ—Ç, –∏ –∫–Ω–æ–ø–∫–∞ –æ–ø–ª–∞—Ç—ã –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç.
